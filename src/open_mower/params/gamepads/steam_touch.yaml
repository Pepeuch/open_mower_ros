## Adapted for MAVROS by [Pepeuch] on [11/1/2024]

# Steam Controller mapping for MAVROS and ArduPilot

teleop:
  move:
    type: topic
    message_type: geometry_msgs/Twist
    topic_name: /mavros/setpoint_velocity/cmd_vel  # Utilise le topic MAVROS pour la vitesse
    deadman_buttons: [14]  # Bouton qui doit être maintenu pour activer le mouvement
    axis_mappings:
      -
        axis: 3
        target: linear.x
        scale: 1
      -
        axis: 2
        target: angular.z
        scale: 1

  # Enregistrement de zones (nécessite des nœuds ROS pour traiter ces commandes)
  record_polygon:
    type: topic
    message_type: std_msgs/Bool
    topic_name: /mower_logic/record_polygon  # Doit être interprété par un nœud ROS dédié
    deadman_buttons: [3]
    message_value:
      -
        target: data
        value: 1

  record_dock:
    type: topic
    message_type: std_msgs/Bool
    topic_name: /mower_logic/record_dock  # Doit être interprété par un nœud ROS dédié
    deadman_buttons: [4]
    message_value:
      -
        target: data
        value: 1

  record_navigation:
    type: topic
    message_type: std_msgs/Bool
    topic_name: /mower_logic/record_navigation  # Doit être interprété par un nœud ROS dédié
    deadman_buttons: [6, 17]
    message_value:
      -
        target: data
        value: 1

  record_mowing:
    type: topic
    message_type: std_msgs/Bool
    topic_name: /mower_logic/record_mowing  # Doit être interprété par un nœud ROS dédié
    deadman_buttons: [6, 18]
    message_value:
      -
        target: data
        value: 1
